// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// User models (placeholder - not fully implemented yet)
model User {
  id            String   @id @default(cuid())
  email         String   @unique
  name          String?
  passwordHash  String?
  role          UserRole @default(BUYER)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@map("users")
}

enum UserRole {
  BUYER
  SUPPLIER
  ADMIN
}

// Category model (placeholder)
model Category {
  id          String   @id @default(cuid())
  name        String
  nameEn      String
  slug        String   @unique
  icon        String?
  image       String?
  productCount Int     @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  products    Product[]

  @@map("categories")
}

// Product model (placeholder)
model Product {
  id          String   @id @default(cuid())
  title       String
  titleEn     String
  description String?
  price       Float
  currency    String   @default("USD")
  image       String
  images      String[]
  moq         Int      @default(1)
  sold        Int      @default(0)
  supplierId  String
  categoryId  String
  verified    Boolean  @default(false)
  rating      Float?
  reviewCount Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  category    Category @relation(fields: [categoryId], references: [id])
  supplier    Supplier @relation(fields: [supplierId], references: [id])

  @@map("products")
}

// Supplier model (placeholder)
model Supplier {
  id            String   @id @default(cuid())
  name          String
  nameEn        String
  logo          String
  verified      Boolean  @default(false)
  yearsActive   Int      @default(0)
  country       String
  productCount  Int      @default(0)
  responseRate  Float    @default(0)
  rating        Float    @default(0)
  mainCategories String[]
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  products      Product[]

  @@map("suppliers")
}

// RFQ model (placeholder - not implemented yet)
model RFQ {
  id          String   @id @default(cuid())
  buyerId     String
  title       String
  description String?
  categoryId  String?
  status      RFQStatus @default(PENDING)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("rfqs")
}

enum RFQStatus {
  PENDING
  ACTIVE
  CLOSED
  CANCELLED
}

